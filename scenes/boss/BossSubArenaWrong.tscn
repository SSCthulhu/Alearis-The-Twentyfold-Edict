[gd_scene load_steps=41 format=4 uid="uid://cv1vsv6qtu6oh"]

[ext_resource type="Script" uid="uid://bmi06qcgd5fny" path="res://scripts/boss/SubArenaController.gd" id="1_p8dq7"]
[ext_resource type="PackedScene" uid="uid://ccrejlifa6gwm" path="res://scenes/enemies/EnemyKnightAdd.tscn" id="2_bpxfn"]
[ext_resource type="PackedScene" uid="uid://c72m65e63bs0o" path="res://scenes/player/player.tscn" id="2_player"]
[ext_resource type="PackedScene" uid="uid://bq7m3x5k8npwj" path="res://scenes/enemies/EnemyNecromancer.tscn" id="3_gfnh7"]
[ext_resource type="PackedScene" uid="uid://cjteqkv3dbcyl" path="res://scenes/enemies/EnemyRogueSkeleton.tscn" id="4_3v2df"]
[ext_resource type="PackedScene" uid="uid://3n3mym4g3" path="res://scenes/enemies/EnemySkeletonMage.tscn" id="5_jn32v"]
[ext_resource type="PackedScene" uid="uid://cai81qjmmgokj" path="res://scenes/arena/AscensionCharge.tscn" id="6_rbgt4"]
[ext_resource type="Texture2D" uid="uid://bu71lu0wv2orc" path="res://art/Worlds/cave/background/wall bg.png" id="7_iyrl2"]
[ext_resource type="Texture2D" uid="uid://di2c413mbri0w" path="res://art/Worlds/cave/background/bg1.png" id="8_i2446"]
[ext_resource type="Texture2D" uid="uid://dcdruorr6jr2i" path="res://art/Worlds/cave/background/filter.png" id="9_fay85"]
[ext_resource type="Texture2D" uid="uid://1bn08fcfrknt" path="res://art/Worlds/cave/background/bg3.png" id="9_u27wa"]
[ext_resource type="PackedScene" uid="uid://da2fr6n8vi4x7" path="res://scenes/ui/UI.tscn" id="9_ui"]
[ext_resource type="Texture2D" uid="uid://but35i62nr4c6" path="res://art/Worlds/cave/props/Skull on Spear.png" id="10_v7mt5"]
[ext_resource type="Texture2D" uid="uid://c5ddyxhatruiw" path="res://art/Worlds/cave/background/light.png" id="11_fsn4j"]
[ext_resource type="Texture2D" uid="uid://duajxu3ik3ioa" path="res://art/Worlds/cave/crystal/green/crystal4.png" id="12_p8vo2"]
[ext_resource type="Texture2D" uid="uid://dckyo0n1ep3ih" path="res://art/Worlds2/Dwarf Mines/Platformer/Ground_02.png" id="13_e44xa"]
[ext_resource type="Texture2D" uid="uid://btyjbcfxwu7vm" path="res://art/Worlds/cave/crystal/red/crystal5.png" id="13_xlkl4"]
[ext_resource type="Texture2D" uid="uid://bnlfj4qkatwfr" path="res://art/Worlds/cave/crystal/red/crystal2.png" id="14_hlqro"]
[ext_resource type="Texture2D" uid="uid://dlhtdd8eud2l7" path="res://art/Worlds2/Dwarf Mines/Platformer/Ground_06.png" id="14_r2kvr"]
[ext_resource type="Texture2D" uid="uid://cdm206os8wfmy" path="res://art/Worlds/cave/crystal/blue/crystal3.png" id="15_erk47"]
[ext_resource type="Texture2D" uid="uid://7po5wl3e7834" path="res://art/Worlds2/Dwarf Mines/Platformer/Ground_04.png" id="15_fjf3j"]
[ext_resource type="Texture2D" uid="uid://i358bb0qhtnq" path="res://art/Worlds2/Dwarf Mines/Platformer/Ground_08.png" id="16_c0hlr"]
[ext_resource type="Texture2D" uid="uid://bc6tsv60dckg7" path="res://art/Worlds/Tropical/Background/water.png" id="16_erk47"]
[ext_resource type="Texture2D" uid="uid://ir4y6edh2bn7" path="res://art/Worlds2/Dwarf Mines/Platformer/Ground_09.png" id="17_214yc"]
[ext_resource type="Texture2D" uid="uid://dabhy3lil14bt" path="res://art/Worlds2/Dwarf Mines/Platformer/Ground_13.png" id="18_2wkxa"]
[ext_resource type="Texture2D" uid="uid://c5wxgxlakb3jc" path="res://art/Worlds/cave/props/Closed Wooden Crate.png" id="20_ommoq"]
[ext_resource type="Texture2D" uid="uid://lu708nykd5i3" path="res://art/Worlds/cave/props/dead_skeleton_Warrior.png" id="21_y44nt"]
[ext_resource type="Texture2D" uid="uid://cffhun22lgbnl" path="res://art/Worlds/cave/props/dead_skeleton_Warrior2.png" id="22_s1wd2"]
[ext_resource type="Texture2D" uid="uid://c3e272eshfjuk" path="res://art/Worlds/cave/platform/Bridge.png" id="23_ommoq"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_ommoq"]
size = Vector2(80, 2000)

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_l4n71"]
texture = ExtResource("13_e44xa")
texture_region_size = Vector2i(128, 128)
0:0/0 = 0
0:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-64, -64, 64, -64, 64, -29.090908, -64, -29.090908)

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_m4km6"]
texture = ExtResource("14_r2kvr")
texture_region_size = Vector2i(128, 128)
0:0/0 = 0

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_cb2jc"]
texture = ExtResource("15_fjf3j")
texture_region_size = Vector2i(128, 128)
0:0/0 = 0
0:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-64, -64, 64, -64, 64, -29.090908, -64, -29.090908)

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_uhugo"]
texture = ExtResource("16_c0hlr")
texture_region_size = Vector2i(128, 128)
0:0/0 = 0
0:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-64, -64, 64, -64, 64, -29.090908, -64, -29.090908)

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_fs642"]
texture = ExtResource("17_214yc")
texture_region_size = Vector2i(128, 128)
0:0/0 = 0

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_2h6qs"]
texture = ExtResource("18_2wkxa")
texture_region_size = Vector2i(128, 128)
0:0/0 = 0

[sub_resource type="TileSet" id="TileSet_ycq7t"]
tile_size = Vector2i(128, 128)
physics_layer_0/collision_layer = 1
sources/0 = SubResource("TileSetAtlasSource_l4n71")
sources/1 = SubResource("TileSetAtlasSource_m4km6")
sources/2 = SubResource("TileSetAtlasSource_cb2jc")
sources/3 = SubResource("TileSetAtlasSource_uhugo")
sources/4 = SubResource("TileSetAtlasSource_fs642")
sources/5 = SubResource("TileSetAtlasSource_2h6qs")

[sub_resource type="RectangleShape2D" id="RectangleShape2D_ijvrr"]
size = Vector2(1208.98, 80)

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_317wa"]
radius = 20.0
height = 310.35

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_2geub"]
radius = 20.0
height = 310.35

[node name="BossSubArenaWrong" type="Node2D"]
script = ExtResource("1_p8dq7")
enemy_scenes = Array[PackedScene]([ExtResource("2_bpxfn"), ExtResource("3_gfnh7"), ExtResource("4_3v2df"), ExtResource("5_jn32v")])
enemy_spawn_positions = Array[Vector2]([Vector2(-1250, -200), Vector2(500, -200), Vector2(1000, -200)])
orb_scene = ExtResource("6_rbgt4")
orb_spawn_position = Vector2(0, -50)

[node name="ParallaxRoot" type="Node2D" parent="."]
position = Vector2(0, 471)

[node name="Furthest" type="Parallax2D" parent="ParallaxRoot"]
scroll_scale = Vector2(0.1, 0.05)
scroll_offset = Vector2(-2048, -1348)
repeat_size = Vector2(2165, 0)
repeat_times = 3
follow_viewport = false

[node name="WallBg" type="Sprite2D" parent="ParallaxRoot/Furthest"]
scale = Vector2(4, 4)
texture = ExtResource("7_iyrl2")

[node name="Bg1" type="Sprite2D" parent="ParallaxRoot/Furthest"]
texture_repeat = 2
position = Vector2(29, 0)
scale = Vector2(1, 2)
texture = ExtResource("8_i2446")

[node name="Mid" type="Parallax2D" parent="ParallaxRoot"]
scroll_scale = Vector2(0.13, 0.08)
scroll_offset = Vector2(0, -1340)
repeat_size = Vector2(2112, 0)
repeat_times = 4
follow_viewport = false

[node name="Bg3" type="Sprite2D" parent="ParallaxRoot/Mid"]
texture_repeat = 2
position = Vector2(639, 0)
scale = Vector2(1, 2)
texture = ExtResource("9_u27wa")

[node name="Nearest" type="Parallax2D" parent="ParallaxRoot"]
scroll_scale = Vector2(0.2, 0.1)
scroll_offset = Vector2(0, -750)
follow_viewport = false

[node name="Filter" type="Sprite2D" parent="ParallaxRoot/Nearest"]
modulate = Color(1, 1, 1, 0.5882353)
position = Vector2(0, -541)
scale = Vector2(1.7349999, 1.7349999)
texture = ExtResource("9_fay85")

[node name="Light" type="Sprite2D" parent="ParallaxRoot/Nearest"]
position = Vector2(343.00003, -929)
rotation = 0.3228859
texture = ExtResource("11_fsn4j")

[node name="Water" type="Parallax2D" parent="ParallaxRoot"]
scroll_offset = Vector2(-3, -66)
repeat_size = Vector2(866, 0)
autoscroll = Vector2(400, 0)
repeat_times = 8

[node name="Water" type="Sprite2D" parent="ParallaxRoot/Water"]
position = Vector2(0, -201)
texture = ExtResource("16_erk47")

[node name="LeftWall" type="Node2D" parent="."]

[node name="StaticBody2D" type="StaticBody2D" parent="LeftWall"]

[node name="CollisionShape2D" type="CollisionShape2D" parent="LeftWall/StaticBody2D"]
position = Vector2(-1577, -821)
shape = SubResource("RectangleShape2D_ommoq")

[node name="RightWall" type="Node2D" parent="."]

[node name="StaticBody2D" type="StaticBody2D" parent="RightWall"]

[node name="CollisionShape2D" type="CollisionShape2D" parent="RightWall/StaticBody2D"]
position = Vector2(1577, -821)
shape = SubResource("RectangleShape2D_ommoq")

[node name="Floor" type="TileMapLayer" parent="."]
z_index = 1
position = Vector2(0, -29)
tile_map_data = PackedByteArray("AAD6/wAAAwAAAAAAAAD6/wIABQAAAAAAAAD6/wEABQAAAAAAAADt/wEAAQAAAAAAAADt/wIAAQAAAAAAAADu/wEAAQAAAAAAAADu/wIAAQAAAAAAAADv/wEAAQAAAAAAAADv/wIAAQAAAAAAAADw/wEAAQAAAAAAAADw/wIAAQAAAAAAAADx/wEAAQAAAAAAAADx/wIAAQAAAAAAAADy/wEAAQAAAAAAAADy/wIAAQAAAAAAAADz/wEAAQAAAAAAAADz/wIAAQAAAAAAAAD0/wEAAQAAAAAAAAD0/wIAAQAAAAAAAAD1/wEAAQAAAAAAAAD1/wIAAQAAAAAAAAD2/wEAAQAAAAAAAAD2/wIAAQAAAAAAAAD3/wEAAQAAAAAAAAD3/wIAAQAAAAAAAAD4/wEAAQAAAAAAAAD4/wIAAQAAAAAAAAD5/wEAAQAAAAAAAAD5/wIAAQAAAAAAAADt/wAAAAAAAAAAAADu/wAAAAAAAAAAAADv/wAAAAAAAAAAAADw/wAAAAAAAAAAAADx/wAAAAAAAAAAAADy/wAAAAAAAAAAAADz/wAAAAAAAAAAAAD0/wAAAAAAAAAAAAD1/wAAAAAAAAAAAAD2/wAAAAAAAAAAAAD3/wAAAAAAAAAAAAD4/wAAAAAAAAAAAAD5/wAAAAAAAAAAAAD//wAAAgAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAACAAAAAAAAAAAAAAADAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAGAAAAAAAAAAAAAAAHAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAJAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAALAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAANAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAPAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAD//wIABAAAAAAAAAAAAAIAAQAAAAAAAAABAAIAAQAAAAAAAAACAAIAAQAAAAAAAAADAAIAAQAAAAAAAAAEAAIAAQAAAAAAAAAFAAIAAQAAAAAAAAAGAAIAAQAAAAAAAAAHAAIAAQAAAAAAAAAIAAIAAQAAAAAAAAAJAAIAAQAAAAAAAAAKAAIAAQAAAAAAAAALAAIAAQAAAAAAAAAMAAIAAQAAAAAAAAANAAIAAQAAAAAAAAAOAAIAAQAAAAAAAAAPAAIAAQAAAAAAAAD//wEABAAAAAAAAAAAAAEAAQAAAAAAAAABAAEAAQAAAAAAAAACAAEAAQAAAAAAAAADAAEAAQAAAAAAAAAEAAEAAQAAAAAAAAAFAAEAAQAAAAAAAAAGAAEAAQAAAAAAAAAHAAEAAQAAAAAAAAAIAAEAAQAAAAAAAAAJAAEAAQAAAAAAAAAKAAEAAQAAAAAAAAALAAEAAQAAAAAAAAAMAAEAAQAAAAAAAAANAAEAAQAAAAAAAAAOAAEAAQAAAAAAAAAPAAEAAQAAAAAAAAA=")
tile_set = SubResource("TileSet_ycq7t")

[node name="Node2D" type="Node2D" parent="."]
position = Vector2(1, -38)

[node name="Bridge" type="Sprite2D" parent="Node2D"]
z_index = 1
position = Vector2(-386, 25.999998)
scale = Vector2(0.4, 0.35)
texture = ExtResource("23_ommoq")

[node name="StaticBody2D" type="StaticBody2D" parent="Node2D"]
position = Vector2(-386, 25.999998)
scale = Vector2(0.35, 0.35)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Node2D/StaticBody2D"]
z_index = 1
position = Vector2(-2.8571777, 34.285767)
scale = Vector2(0.99999994, 0.99999994)
shape = SubResource("RectangleShape2D_ijvrr")

[node name="CollisionShape2D2" type="CollisionShape2D" parent="Node2D/StaticBody2D"]
z_index = 1
position = Vector2(680, -2.8571355)
rotation = 1.3980087
shape = SubResource("CapsuleShape2D_317wa")

[node name="CollisionShape2D3" type="CollisionShape2D" parent="Node2D/StaticBody2D"]
z_index = 1
position = Vector2(-680, -5.714274)
rotation = 1.701696
shape = SubResource("CapsuleShape2D_2geub")

[node name="Decor" type="Node2D" parent="."]

[node name="SkullOnSpear" type="Sprite2D" parent="Decor"]
z_index = 2
position = Vector2(541.00006, -96)
scale = Vector2(0.2, 0.2)
texture = ExtResource("10_v7mt5")

[node name="ClosedWoodenCrate" type="Sprite2D" parent="Decor"]
position = Vector2(-788.00006, -59)
scale = Vector2(0.25, 0.25)
texture = ExtResource("20_ommoq")

[node name="DeadSkeletonWarrior" type="Sprite2D" parent="Decor"]
position = Vector2(-844.00006, -93)
rotation = -0.42760566
scale = Vector2(0.25, 0.25)
texture = ExtResource("21_y44nt")

[node name="DeadSkeletonWarrior2" type="Sprite2D" parent="Decor"]
z_index = 2
position = Vector2(978, -46)
scale = Vector2(0.25, 0.25)
texture = ExtResource("22_s1wd2")

[node name="Crystal4" type="Sprite2D" parent="Decor"]
position = Vector2(-1101, -176)
texture = ExtResource("12_p8vo2")

[node name="Crystal5" type="Sprite2D" parent="Decor"]
z_index = 10
position = Vector2(1173, 4.999996)
scale = Vector2(0.7, 0.7)
texture = ExtResource("13_xlkl4")

[node name="Crystal2" type="Sprite2D" parent="Decor"]
z_index = 10
position = Vector2(-1378, -28)
scale = Vector2(0.55, 0.55)
texture = ExtResource("14_hlqro")

[node name="Crystal3" type="Sprite2D" parent="Decor"]
position = Vector2(296, -148)
scale = Vector2(0.8, 0.8)
texture = ExtResource("15_erk47")

[node name="Player" parent="." instance=ExtResource("2_player")]
position = Vector2(-4, -107)

[node name="Camera2D" parent="Player" index="10"]
offset = Vector2(0, -400)
limit_top = -1050
limit_bottom = 475

[node name="PlayerSpawn" type="Marker2D" parent="."]
position = Vector2(-3, -218)

[node name="UI" parent="." instance=ExtResource("9_ui")]

[editable path="Player"]
[editable path="Player/Visual/Body3DView"]
